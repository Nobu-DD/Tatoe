<% content_for(:title, "例え投稿") %>
<div class="pt-5 pb-15 px-2">
  <div class="bg-white shadow-lg rounded-2xl w-full py-8 px-2 space-y-6">
    <div class="text-center mb-5">
      <h2 class=" text-2xl font-bold text-gray-800">例え投稿</h2>
    </div>
    <%= render 'topics/description', topic: @topic %>
    <div class="px-2 py-6">
      <%= form_with model: @answer, url: topic_answers_path, data: { controller: "answer", answer_topic_value: @topic.decorate.topic_json_data } do |f| %>
      <%= render 'shared/error_messages', object: f.object %>
      <%= f.hidden_field :topic_id %>
      <div class="mb-5">
        <p class="text-lg">AI例え出力</p>
        <span class="text-sm opacity-50">例えてほしいジャンルを自由に入れてみましょう！</span>
        <div class="flex items-center justify-between">
          <input data-answer-target="theme" type="text" class="input input-info text-base w-auto rounded-xl border-gray-200" placeholder="好きなジャンル">
          <button type="button" data-action="click->answer#output" data-answer-target="button" class="bg-[#A0D8EF] hover:bg-[#7CC7E8] text-white px-5 py-3 text-lg font-semibold rounded-xl shadow-lg">AI生成</button>
        </div>
      </div>
      <!-- 例え内容 -->
      <div class="mb-5">
        <%= f.label :body, "例えるなら...", class: "block text-sm font-medium text-gray-700 mb-3" %>
        <%= f.text_field :body, autofocus: true, class: "input input-info text-base w-full rounded-xl border-gray-200 mb-2", placeholder: "例えをこちらに" , data: { answer_target: "body" }%>
        <span class="text-sm pl-1 opacity-50">例：〇〇(単体)　〇〇の〇〇にそっくり！　〇〇に例えてみた！　</span>
      </div>
      <div class="mb-5">
        <%= f.label :reason, "理由・説明(任意)", class: "block text-sm font-medium text-gray-700 mb-3" %>
        <%= f.text_area :reason, class: "textarea textarea-info text-base w-full rounded-xl border-gray-200", placeholder: "例えた理由を教えて下さい", data: { answer_target: "reason" } %>
      </div>
      <%= f.submit "投稿", class: "w-full bg-[#A0D8EF] hover:bg-[#7CC7E8] text-white py-4 text-lg font-semibold rounded-xl shadow-lg" %>
      <% end %>
    </div>
  </div>
</div>